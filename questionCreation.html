<!DOCTYPE html>
<html ng-app="questionsApp">
<head>
  <meta charset="utf-8">
  <title>Create Question</title>
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
</head>

<body ng-controller="TheController">
  <div class="container">
    <h1>Question Creation Page</h1>

    <form id="createQuestion">
      <div class="form-group">
      <textarea class="form-control" rows="3" placeholder="Enter Question" id="questionText"></textarea>
      </div>
      <div class="form-group">
        <input type="text" class="form-control" placeholder="Enter Answer Choice 1" id="answerChoice1">
      </div>
      <div class="form-group">
        <input type="text" class="form-control" placeholder="Enter Answer Choice 2" id="answerChoice2">
      </div>
      <div class="form-group">
        <input type="submit" class="btn btn-primary">
      </div>
    </form>
    

<!--     <ul>
      <li ng-repeat="phone in phones">
        <span>{{phone.name}}</span>
        <p>{{phone.snippet}}</p>
      </li>
    </ul> -->
  </div> <!-- container -->

  <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.5.0.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular.min.js"></script>
  <script src="controller.js"></script>

  <script type="text/javascript">
    Parse.initialize("UZ0MDbTRawyYCZn6qK566huwg19Yvhuj9VRwDY6j", "0m415LLPm7cqPqffhaOt81Mjbf8lUSadMHZU9CLj");
    var Question = Parse.Object.extend("Question");

    $("#createQuestion").submit(function(event) {
      event.preventDefault(); //normally when submitting a form the browser loads another page/doc and we want to stay on our creation page
      var questionText = $("#questionText").val();
      var answerChoice1 = $("#answerChoice1").val();
      var answerChoice2 = $("#answerChoice2").val();
      var newQuestion = new Question();

      newQuestion.set("questionText", questionText);
      newQuestion.set("answers", [answerChoice1, answerChoice2]);

      newQuestion.save(null, {
        success: function(newQuestion) {
          console.log("New object created with objectId: " + newQuestion.id);
        },
        error: function(error) {
          console.log("Error: " + error.message);
        }
      });
    });

    // var Question = Parse.Object.extend("Question");
    // var newQuestion = new Question();

    // newQuestion.set("questionText", "What color is the sky?");
    // newQuestion.set("answers", ["Blue", "Red"]);
    // newQuestion.set("correctAnswer", 0);

    // newQuestion.save(null, {
    //   success: function(newQuestion) {
    //     // Execute any logic that should take place after the object is saved.
    //     alert('New object created with objectId: ' + newQuestion.id);
    //   },
    //   error: function(newQuestion, error) {
    //     // Execute any logic that should take place if the save fails.
    //     // error is a Parse.Error with an error code and message.
    //     alert('Failed to create new object, with error code: ' + error.message);
    //   }
    // });
  </script>
</body>
</html>
